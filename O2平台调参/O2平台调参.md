## 指令查询  
一般使用？可以直接查询需要使用的指令 

## 系统使用 
输入用户名admin和密码Admin_123 
之后能够登录系统,这边的系统为<accelink> 
输入sys(系统)进入操作,操作下会变为[accelink] 

## 单盘的使用 
要进入单盘，使用命令： 
登录 shadow node  
密码 wri&acce  
输入命令`fpga value set address 0x1f value 0x02`(设置单盘的槽位为二号)  
`uart slot enable`为槽口使能,进入单盘中  
然后,进入单盘后,一般会进入轮询阶段,即单盘不停的往串口发信息  
首先要先点击一下回车计入系统,然后输入账户密码,输入sys开始操作,输入采样停止指令即可  
```
[LPU-CLI-5]sample-switch off
[LPU-CLI-5]
[LPU-CLI-5]
[LPU-CLI-5]debug_flag_wj g_byPacketTaskSwitch 0
SetFlag g_byPacketTaskSwitch 0
[LPU-CLI-5]
[LPU-CLI-5]debug_flag_wj g_byOSFP800Mask_2 1
SetFlag g_byOSFP800Mask_2 1
```

### 设置信号发送 
在OSFP 800G中一般要发送prbs码，prbs总共有15种码型，分别为： 
```
0 PRBS-31Q As defined in IEEE 802.3-2018 clause 120.5.11.2.2
1 PRBS-31
2 PRBS-23Q ITU-T Recommendation O.172, 2005
3 PRBS-23
4 PRBS-15Q x^15 + x^14 + 1
5 PRBS-15
6 PRBS-13Q As defined in IEEE 802.3-2018 clause 120.5.11.2.1
7 PRBS-13
8 PRBS-9Q As defined in IEEE 802.3-2018 clause 120.5.11
9 PRBS-9
10 PRBS-7Q x^7 + x^6 + 1
11 PRBS-7
12 SSPRQ As defined in IEEE 802.3-2018 clause 120.5.11.2.3 
13 - Reserved
14 Custom Vendor defined pattern
15 User Pattern Programmable pattern provided in Bytes 13h:224-255
``` 
我们在设置时将输出通道的寄存器写为对应码型的序号,然后进行使能,就可以在输出通道中得到对应的输出码 
``` 
设置码型
设置pattern，分别设置page:0x13 bank:0x0 register:0x94 、0x95、0x96、0x97
[LPU-CLI-3]config line L2 osfpcmis reg 0x13 0x0 0x94 0x33 （设置lane1/lane2的pattern,最后写入的值是0x33，表示lane1和lane2都配置为pattern-3,PRBS-23）
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x13 0x0 0x95 0x33  （设置lane3/lane4的pattern,最后写入的值是0x33，表示lane3和lane4都配置为pattern-3,PRBS-23）
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x13 0x0 0x96 0x33  （设置lane5/lane6的pattern,最后写入的值是0x33，表示lane5和lane6都配置为pattern-3,PRBS-23）
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x13 0x0 0x97 0x33  （设置lane7/lane8的pattern,最后写入的值是0x33，表示lane7和lane8都配置为pattern-3,PRBS-23）  

使能通道 
设置page:0x13 bank:0x0 register:0x90  设置值为0xff  （8bit数值的bit0-bit7分别对应lane1-lane8，对应位是1表示enable，否则表示disable）					 
[LPU-CLI-3]config line L2 osfpcmis reg 0x13 0x0 0x90 0xff

```

### 电参调节 
OSFP 800G中电参有三个数值,pre(预加重),main(峰值电压),post(后加重)  
预加重:就是在电压上升之前,先下降一部分,以提高电压上升时的斜率 
峰值电压:电压能够上拉达到的最大电压 
后加重:就是在电压下降之后多下降一部分,也是用来提高电压下降时的斜率  

``` 
电参前配置 
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x91 0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x91 write:0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x91 write:0x21 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x92 0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x92 write:0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x92 write:0x21 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x93 0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x93 write:0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x93 write:0x21 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x94 0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x94 write:0x21
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x94 write:0x21 Success!
[LPU-CLI-3]
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x95 0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x95 write:0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x95 write:0x29 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x96 0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x96 write:0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x96 write:0x29 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x97 0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x97 write:0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x97 write:0x29 Success!
[LPU-CLI-3]config line L1 osfpcmis reg 0x10 0x0 0x98 0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x98 write:0x29
         Line-1 osfpcmis page:0x10 bank:0x0 register:0x98 write:0x29 Success!  

pre 配置
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA2 0x33 （设置RX1、Rx2的Pre-Cursor值，分别设置为3,代表1.5 dB，若要设置其他的值，见Pre-Cursor）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa2 write:0x33 Success!
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA3 0x33  （设置RX3、Rx4的Pre-Cursor值，分别设置为3）
          Line-2 osfpcmis page:0x10 bank:0x0 register:0xa3 write:0x33 Success!
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA4 0x33  （设置RX5、Rx6的Pre-Cursor值，分别设置为3）
ErrInfo-[fpga_or_osfp_switch-148 08:45:07:502]:fpga_or_osfp_switch[config_line_osfpcmis_reg-12683] Line-1 switchTo FPGA TimeOut!
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa4 write:0x33 Success!
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA5 0x33  （设置RX7、Rx8的Pre-Cursor值，分别设置为3） 

main 配置 
 [LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xAA 0x22 （设置RX1、Rx2的Amplitude值，分别设置为2,代表300-600 mV，若要设置其他的值，见Table 6-8）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xaa write:0x22 Success!
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xAB 0x22  （设置RX3、Rx4的Amplitude值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xab write:0x22 Success!
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xAC 0x22  （设置RX5、Rx6的Amplitude值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xac write:0x22 Success!
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xAD 0x22  （设置RX7、Rx8的Amplitude值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xad write:0x22 Success! 

post 配置 
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA6 0x22  （设置RX1、Rx2的Post-Cursor值，分别设置为2,代表2dB，若要设置其他的值，见Post-Cursor）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa6 write:0x22 Success!
[LPU-CLI-3]
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA7 0x22  （设置RX3、Rx4的Post-Cursor值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa7 write:0x22 Success!
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA8 0x22  （设置RX5、Rx6的Post-Cursor值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa8 write:0x22 Success!
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0xA9 0x22   （设置RX7、Rx8的Post-Cursor值，分别设置为2）
         Line-2 osfpcmis page:0x10 bank:0x0 register:0xa9 write:0x22 Success!  

使能:所有配置后,只要使能一次即可 
[LPU-CLI-3]config line L2 osfpcmis reg 0x10 0x0 0x90 0xff
```